<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDVIEW - Configuração de Preços</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Estilo específico para inputs de preço */
        #etanol, #gasolina {
            width: 100% !important;
            padding: 20px 18px !important;
            border: 3px solid #e5e7eb !important;
            border-radius: 12px !important;
            font-size: 1.4rem !important;
            font-weight: 600 !important;
            background: #ffffff !important;
            min-height: 65px !important;
            height: 65px !important;
            text-align: left !important;
            box-sizing: border-box !important;
            color: #111827 !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }

        #etanol:focus, #gasolina:focus {
            outline: none !important;
            border-color: #2563eb !important;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.25) !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <img src="/image/LOGO_PDVIEW-otimizada.png" alt="PDView Logo"
                style="height: 100px; margin-bottom: 10px; mix-blend-mode: multiply; background: white; border-radius: 10px; padding: 10px;">
        </header>

        <main>
            <!-- Preços Atuais -->
            <section class="current-prices">
                <h2>Preços Atuais</h2>
                <div class="price-display">
                    <div class="price-card">
                        <h3>Etanol</h3>
                        <span class="price-value" id="current-etanol">R$ 0,00</span>
                    </div>
                    <div class="price-card">
                        <h3>Gasolina</h3>
                        <span class="price-value" id="current-gasolina">R$ 0,00</span>
                    </div>
                </div>
                <div class="last-update">
                    Última atualização: <span id="last-update">--</span>
                </div>
            </section>

            <!-- Formulário de Atualização -->
            <section class="update-prices">
                <h2>Atualizar Preços</h2>
                <form id="price-form">
                    <div class="form-group">
                        <label for="etanol">
                            Preço do Etanol (R$)
                            <input type="text" id="etanol" name="etanol"
                                pattern="[0-9]+([.,][0-9]{1,2})?"
                                placeholder=""
                                inputmode="decimal"
                                title="Digite um preço válido (ex: 3.79 ou 3,79)"
                                required>
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="gasolina">
                            Preço da Gasolina (R$)
                            <input type="text" id="gasolina" name="gasolina"
                                pattern="[0-9]+([.,][0-9]{1,2})?"
                                placeholder=""
                                inputmode="decimal"
                                title="Digite um preço válido (ex: 5.99 ou 5,99)"
                                required>
                        </label>
                    </div>

                    <button type="submit" class="btn-primary">
                        Atualizar Preços
                    </button>
                </form>
            </section>

            <!-- Links Úteis -->
            <section class="links">
                <h2>Links Rápidos</h2>
                <div class="link-buttons">
                    <a href="/player.html" target="_blank" class="btn-link">
                        Abrir Player
                    </a>
                    <button id="btn-history" class="btn-link">
                        Ver Histórico
                    </button>
                    <button id="btn-refresh" class="btn-link">
                        Atualizar Página
                    </button>
                </div>
            </section>

            <!-- Histórico (inicialmente oculto) -->
            <section class="history" id="history-section" style="display: none;">
                <h2>Histórico de Preços</h2>
                <div class="history-controls">
                    <button id="btn-close-history" class="btn-secondary">Fechar</button>
                </div>
                <div class="history-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Data/Hora</th>
                                <th>Etanol</th>
                                <th>Gasolina</th>
                            </tr>
                        </thead>
                        <tbody id="history-body">
                            <!-- Histórico será inserido aqui -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <!-- Mensagens de Status -->
        <div id="message" class="message"></div>

        <footer>
            <p>PDVIEW Otimizado para Orange Pi - v2.0</p>
            <p id="system-status">Status: <span>Conectado</span></p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>

</html>